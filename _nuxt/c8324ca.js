(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{625:function(e,t,r){"use strict";r.r(t);var n=r(14),o=(r(78),r(0).a.extend({middleware:function(e){var t=e.app,r=e.store,n=e.redirect,o=e.route;if(!r.state.isUserAuthenticated&&!("user"in o.query))return console.log(r.state.isUserAuthenticated,"redirect to api auth"),n("https://api.mlmac.io:8080/github/auth");if(!r.state.isUserAuthenticated&&o.query.user){console.log("Received user token, saving details to the store and $http");var c=o.query.user;r.commit("setUserToken",c),t.$http.setToken(c,"Bearer"),t.$cookies.set("mlmac-token",c)}console.log("else middleware",r.state)},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$http,t.next=3,r.$get("https://api.mlmac.io:8080/status",{mode:"no-cors"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{status:{}}}})),c=r(84),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",[e._v("Logged In")]),e._v("\n  "+e._s(e.status)+"\n")])}),[],!1,null,null,null);t.default=component.exports}}]);